We present FlashMatrix, a matrix-oriented programming framework for general
data analysis. FlashMatrix scales to large datasets by utilizing commodity SSDs.
It provides a high-level functional programming interface for users to write
data analysis algorithms in R and
executes the R implementations in parallel and out of core automatically.
For simplicity and generality, the core of FlashMatrix only implements
a small number of generalized matrix operations (GenOps). It reimplements
many matrix operations in R \textit{base} package with GenOps to provide
a familiar programming environment to users. To improve performance,
FlashMatrix uses vectorized user-defined functions (VUDF) to reduce the
overhead of function calls and fuses matrix operations to reduce data movement
between CPU and SSDs.

We demonstrate that the matrix-oriented functional programming interface in
FlashMatrix can achieve high performance and scalability for many data analysis
algorithms. We implement multiple statistics and
machine learning algorithms with R and compare their performance with Spark
MLlib, a high-optimized parallel machine learning library, on large datasets.
The R implementations executed in FlashMatrix significantly outperforms
the implemnetations in Spark MLlib. We further demonstrate that the performance
of the FlashMatrix implementations running in a single thread can outperform
the C implementations in the R framework. The FlashMatrix implementations
also achieve linear speedup with multithreading.

Even though SSDs are still an order of magnitude slower than DRAM, the external-memory
execution of many data analysis algorithms in FlashMatrix can achieve performance
comparable to their in-memory execution. We demonstrate that the I/O throughput
of 10 GB/s is able to saturate CPU for many applications even in a large parallel
machine. As such, the external-memory execution also benefits from many in-memory
optimizations.

FlashMatrix significantly simplifies the programming effort of writing
parallel and out-of-core implementations for large-scale data analysis. It
provides domain experts a familiar programming environment for experimenting
their algorithms designed to process large datasets. It also significantly
increases productivity of writing an efficient implementation with performance
comparable to low-level programming languages. We believe FlashMatrix opens
a new opportunity for large-scale data analysis.
